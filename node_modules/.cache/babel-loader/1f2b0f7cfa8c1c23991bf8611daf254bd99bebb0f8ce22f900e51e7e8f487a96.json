{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nexport default {\n  __name: 'LoginView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const email = ref('');\n    const password = ref('');\n    const isSubmitting = ref(false);\n    const authError = ref('');\n    const formErrors = ref({\n      email: '',\n      password: ''\n    });\n    const validateForm = () => {\n      let isValid = true;\n      formErrors.value = {\n        email: '',\n        password: ''\n      };\n      if (!email.value) {\n        formErrors.value.email = 'El correo es obligatorio';\n        isValid = false;\n      } else if (!/^\\S+@\\S+\\.\\S+$/.test(email.value)) {\n        formErrors.value.email = 'Ingresa un correo válido';\n        isValid = false;\n      }\n      if (!password.value) {\n        formErrors.value.password = 'La contraseña es obligatoria';\n        isValid = false;\n      } else if (password.value.length < 6) {\n        formErrors.value.password = 'Mínimo 6 caracteres';\n        isValid = false;\n      }\n      return isValid;\n    };\n    const handleLogin = async () => {\n      if (!validateForm()) return;\n      isSubmitting.value = true;\n      authError.value = '';\n      try {\n        const users = JSON.parse(localStorage.getItem('users')) || [];\n        const user = users.find(u => u.email === email.value);\n        if (!user) {\n          authError.value = 'Credenciales incorrectas';\n          return;\n        }\n        if (user.password !== password.value) {\n          authError.value = 'Credenciales incorrectas';\n          return;\n        }\n        localStorage.setItem('currentUser', JSON.stringify({\n          email: user.email,\n          name: user.name\n        }));\n        router.push('/dashboard');\n      } catch (error) {\n        console.error('Login error:', error);\n        authError.value = 'Ocurrió un error. Intenta nuevamente.';\n      } finally {\n        isSubmitting.value = false;\n      }\n    };\n    const __returned__ = {\n      router,\n      email,\n      password,\n      isSubmitting,\n      authError,\n      formErrors,\n      validateForm,\n      handleLogin,\n      ref,\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","useRouter","router","email","password","isSubmitting","authError","formErrors","validateForm","isValid","value","test","length","handleLogin","users","JSON","parse","localStorage","getItem","user","find","u","setItem","stringify","name","push","error","console"],"sources":["C:/Users/Henry/Desktop/GreenlogistApps-main/GreenlogistApps-main/src/views/LoginView.vue"],"sourcesContent":["<template>\n  <section class=\"auth-container\">\n    <div class=\"auth-card\">\n      <h1 class=\"auth-title\">Iniciar Sesión</h1>\n      \n      <form @submit.prevent=\"handleLogin\" class=\"auth-form\" novalidate>\n        <div class=\"form-group\">\n          <label for=\"email\" class=\"form-label\">Correo electrónico</label>\n          <input\n            type=\"email\"\n            id=\"email\"\n            v-model.trim=\"email\"\n            required\n            autocomplete=\"username\"\n            class=\"form-input\"\n            :class=\"{ 'input-error': formErrors.email }\"\n          />\n          <span v-if=\"formErrors.email\" class=\"error-text\">{{ formErrors.email }}</span>\n        </div>\n\n        <div class=\"form-group\">\n          <label for=\"password\" class=\"form-label\">Contraseña</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            v-model.trim=\"password\"\n            required\n            autocomplete=\"current-password\"\n            class=\"form-input\"\n            :class=\"{ 'input-error': formErrors.password }\"\n          />\n          <span v-if=\"formErrors.password\" class=\"error-text\">{{ formErrors.password }}</span>\n        </div>\n\n        <div v-if=\"authError\" class=\"auth-error\">\n          {{ authError }}\n        </div>\n\n        <button type=\"submit\" class=\"auth-button\" :disabled=\"isSubmitting\">\n          <span v-if=\"!isSubmitting\">Ingresar</span>\n          <span v-else class=\"loading-indicator\">Procesando...</span>\n        </button>\n      </form>\n\n      <div class=\"auth-footer\">\n        ¿No tienes cuenta? \n        <router-link to=\"/register\" class=\"auth-link\">Regístrate aquí</router-link>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\n\n\nconst router = useRouter()\n\n\nconst email = ref('')\nconst password = ref('')\n\n\nconst isSubmitting = ref(false)\nconst authError = ref('')\nconst formErrors = ref({\n  email: '',\n  password: ''\n})\n\n\nconst validateForm = () => {\n  let isValid = true\n  formErrors.value = { email: '', password: '' }\n\n  if (!email.value) {\n    formErrors.value.email = 'El correo es obligatorio'\n    isValid = false\n  } else if (!/^\\S+@\\S+\\.\\S+$/.test(email.value)) {\n    formErrors.value.email = 'Ingresa un correo válido'\n    isValid = false\n  }\n\n  if (!password.value) {\n    formErrors.value.password = 'La contraseña es obligatoria'\n    isValid = false\n  } else if (password.value.length < 6) {\n    formErrors.value.password = 'Mínimo 6 caracteres'\n    isValid = false\n  }\n\n  return isValid\n}\n\nconst handleLogin = async () => {\n  if (!validateForm()) return\n\n  isSubmitting.value = true\n  authError.value = ''\n\n  try {\n    const users = JSON.parse(localStorage.getItem('users')) || []\n    const user = users.find(u => u.email === email.value)\n\n    if (!user) {\n      authError.value = 'Credenciales incorrectas'\n      return\n    }\n\n \n    if (user.password !== password.value) {\n      authError.value = 'Credenciales incorrectas'\n      return\n    }\n\n  \n    localStorage.setItem('currentUser', JSON.stringify({\n      email: user.email,\n      name: user.name,\n\n    }))\n\n\n    router.push('/dashboard')\n  } catch (error) {\n    console.error('Login error:', error)\n    authError.value = 'Ocurrió un error. Intenta nuevamente.'\n  } finally {\n    isSubmitting.value = false\n  }\n}\n</script>\n\n<style scoped>\n.auth-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  background-color: #f5f5f5;\n  padding: 1rem;\n}\n\n.auth-card {\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  padding: 2rem;\n  width: 100%;\n  max-width: 400px;\n}\n\n.auth-title {\n  color: #2E7D32;\n  text-align: center;\n  margin-bottom: 1.5rem;\n  font-size: 1.5rem;\n}\n\n.auth-form {\n  display: flex;\n  flex-direction: column;\n  gap: 1.25rem;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.form-label {\n  font-weight: 500;\n  color: #333;\n}\n\n.form-input {\n  padding: 0.75rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 1rem;\n}\n\n.form-input:focus {\n  outline: none;\n  border-color: #2E7D32;\n  box-shadow: 0 0 0 2px rgba(46, 125, 50, 0.2);\n}\n\n.input-error {\n  border-color: #d32f2f;\n}\n\n.error-text {\n  color: #d32f2f;\n  font-size: 0.875rem;\n}\n\n.auth-error {\n  color: #d32f2f;\n  background-color: #fdecea;\n  padding: 0.75rem;\n  border-radius: 4px;\n  text-align: center;\n  margin-bottom: 0.5rem;\n}\n\n.auth-button {\n  background-color: #2E7D32;\n  color: white;\n  padding: 0.75rem;\n  border: none;\n  border-radius: 4px;\n  font-size: 1rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: background-color 0.2s;\n}\n\n.auth-button:hover {\n  background-color: #1B5E20;\n}\n\n.auth-button:disabled {\n  background-color: #81C784;\n  cursor: not-allowed;\n}\n\n.loading-indicator {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n}\n\n.auth-footer {\n  text-align: center;\n  margin-top: 1.5rem;\n  color: #666;\n}\n\n.auth-link {\n  color: #2E7D32;\n  font-weight: 500;\n  text-decoration: none;\n}\n\n.auth-link:hover {\n  text-decoration: underline;\n}\n</style>"],"mappings":";;;AAqDA,SAASA,GAAG,QAAQ,KAAI;AACxB,SAASC,SAAS,QAAQ,YAAW;;;;;;;IAGrC,MAAMC,MAAM,GAAGD,SAAS,CAAC;IAGzB,MAAME,KAAK,GAAGH,GAAG,CAAC,EAAE;IACpB,MAAMI,QAAQ,GAAGJ,GAAG,CAAC,EAAE;IAGvB,MAAMK,YAAY,GAAGL,GAAG,CAAC,KAAK;IAC9B,MAAMM,SAAS,GAAGN,GAAG,CAAC,EAAE;IACxB,MAAMO,UAAU,GAAGP,GAAG,CAAC;MACrBG,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE;IACZ,CAAC;IAGD,MAAMI,YAAY,GAAGA,CAAA,KAAM;MACzB,IAAIC,OAAO,GAAG,IAAG;MACjBF,UAAU,CAACG,KAAK,GAAG;QAAEP,KAAK,EAAE,EAAE;QAAEC,QAAQ,EAAE;MAAG;MAE7C,IAAI,CAACD,KAAK,CAACO,KAAK,EAAE;QAChBH,UAAU,CAACG,KAAK,CAACP,KAAK,GAAG,0BAAyB;QAClDM,OAAO,GAAG,KAAI;MAChB,CAAC,MAAM,IAAI,CAAC,gBAAgB,CAACE,IAAI,CAACR,KAAK,CAACO,KAAK,CAAC,EAAE;QAC9CH,UAAU,CAACG,KAAK,CAACP,KAAK,GAAG,0BAAyB;QAClDM,OAAO,GAAG,KAAI;MAChB;MAEA,IAAI,CAACL,QAAQ,CAACM,KAAK,EAAE;QACnBH,UAAU,CAACG,KAAK,CAACN,QAAQ,GAAG,8BAA6B;QACzDK,OAAO,GAAG,KAAI;MAChB,CAAC,MAAM,IAAIL,QAAQ,CAACM,KAAK,CAACE,MAAM,GAAG,CAAC,EAAE;QACpCL,UAAU,CAACG,KAAK,CAACN,QAAQ,GAAG,qBAAoB;QAChDK,OAAO,GAAG,KAAI;MAChB;MAEA,OAAOA,OAAM;IACf;IAEA,MAAMI,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAI,CAACL,YAAY,CAAC,CAAC,EAAE;MAErBH,YAAY,CAACK,KAAK,GAAG,IAAG;MACxBJ,SAAS,CAACI,KAAK,GAAG,EAAC;MAEnB,IAAI;QACF,MAAMI,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,EAAC;QAC5D,MAAMC,IAAI,GAAGL,KAAK,CAACM,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAClB,KAAK,KAAKA,KAAK,CAACO,KAAK;QAEpD,IAAI,CAACS,IAAI,EAAE;UACTb,SAAS,CAACI,KAAK,GAAG,0BAAyB;UAC3C;QACF;QAGA,IAAIS,IAAI,CAACf,QAAQ,KAAKA,QAAQ,CAACM,KAAK,EAAE;UACpCJ,SAAS,CAACI,KAAK,GAAG,0BAAyB;UAC3C;QACF;QAGAO,YAAY,CAACK,OAAO,CAAC,aAAa,EAAEP,IAAI,CAACQ,SAAS,CAAC;UACjDpB,KAAK,EAAEgB,IAAI,CAAChB,KAAK;UACjBqB,IAAI,EAAEL,IAAI,CAACK;QAEb,CAAC,CAAC;QAGFtB,MAAM,CAACuB,IAAI,CAAC,YAAY;MAC1B,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,cAAc,EAAEA,KAAK;QACnCpB,SAAS,CAACI,KAAK,GAAG,uCAAsC;MAC1D,CAAC,SAAS;QACRL,YAAY,CAACK,KAAK,GAAG,KAAI;MAC3B;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}