{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, normalizeClass as _normalizeClass, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"auth-container\"\n};\nconst _hoisted_2 = {\n  class: \"auth-card\"\n};\nconst _hoisted_3 = {\n  class: \"form-group\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"error-text\"\n};\nconst _hoisted_5 = {\n  class: \"form-group\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"error-text\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"auth-error\"\n};\nconst _hoisted_8 = [\"disabled\"];\nconst _hoisted_9 = {\n  key: 0\n};\nconst _hoisted_10 = {\n  key: 1,\n  class: \"loading-indicator\"\n};\nconst _hoisted_11 = {\n  class: \"auth-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"section\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[6] || (_cache[6] = _createElementVNode(\"h1\", {\n    class: \"auth-title\"\n  }, \"Iniciar Sesión\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _withModifiers($setup.handleLogin, [\"prevent\"]),\n    class: \"auth-form\",\n    novalidate: \"\"\n  }, [_createElementVNode(\"div\", _hoisted_3, [_cache[2] || (_cache[2] = _createElementVNode(\"label\", {\n    for: \"email\",\n    class: \"form-label\"\n  }, \"Correo electrónico\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.email = $event),\n    required: \"\",\n    autocomplete: \"username\",\n    class: _normalizeClass([\"form-input\", {\n      'input-error': $setup.formErrors.email\n    }])\n  }, null, 2 /* CLASS */), [[_vModelText, $setup.email, void 0, {\n    trim: true\n  }]]), $setup.formErrors.email ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, _toDisplayString($setup.formErrors.email), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_5, [_cache[3] || (_cache[3] = _createElementVNode(\"label\", {\n    for: \"password\",\n    class: \"form-label\"\n  }, \"Contraseña\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.password = $event),\n    required: \"\",\n    autocomplete: \"current-password\",\n    class: _normalizeClass([\"form-input\", {\n      'input-error': $setup.formErrors.password\n    }])\n  }, null, 2 /* CLASS */), [[_vModelText, $setup.password, void 0, {\n    trim: true\n  }]]), $setup.formErrors.password ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, _toDisplayString($setup.formErrors.password), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), $setup.authError ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, _toDisplayString($setup.authError), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"auth-button\",\n    disabled: $setup.isSubmitting\n  }, [!$setup.isSubmitting ? (_openBlock(), _createElementBlock(\"span\", _hoisted_9, \"Ingresar\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_10, \"Procesando...\"))], 8 /* PROPS */, _hoisted_8)], 32 /* NEED_HYDRATION */), _createElementVNode(\"div\", _hoisted_11, [_cache[5] || (_cache[5] = _createTextVNode(\" ¿No tienes cuenta? \")), _createVNode(_component_router_link, {\n    to: \"/register\",\n    class: \"auth-link\"\n  }, {\n    default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\"Regístrate aquí\")])),\n    _: 1 /* STABLE */,\n    __: [4]\n  })])])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onSubmit","_withModifiers","$setup","handleLogin","novalidate","_hoisted_3","for","type","id","_cache","$event","email","required","autocomplete","_normalizeClass","formErrors","trim","_hoisted_4","_toDisplayString","_createCommentVNode","_hoisted_5","password","_hoisted_6","authError","_hoisted_7","disabled","isSubmitting","_hoisted_9","_hoisted_10","_hoisted_8","_hoisted_11","_createTextVNode","_createVNode","_component_router_link","to","default","_withCtx","_","__"],"sources":["C:\\Users\\Henry\\Desktop\\GreenlogistApps-main\\GreenlogistApps-main\\src\\views\\LoginView.vue"],"sourcesContent":["<template>\n  <section class=\"auth-container\">\n    <div class=\"auth-card\">\n      <h1 class=\"auth-title\">Iniciar Sesión</h1>\n      \n      <form @submit.prevent=\"handleLogin\" class=\"auth-form\" novalidate>\n        <div class=\"form-group\">\n          <label for=\"email\" class=\"form-label\">Correo electrónico</label>\n          <input\n            type=\"email\"\n            id=\"email\"\n            v-model.trim=\"email\"\n            required\n            autocomplete=\"username\"\n            class=\"form-input\"\n            :class=\"{ 'input-error': formErrors.email }\"\n          />\n          <span v-if=\"formErrors.email\" class=\"error-text\">{{ formErrors.email }}</span>\n        </div>\n\n        <div class=\"form-group\">\n          <label for=\"password\" class=\"form-label\">Contraseña</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            v-model.trim=\"password\"\n            required\n            autocomplete=\"current-password\"\n            class=\"form-input\"\n            :class=\"{ 'input-error': formErrors.password }\"\n          />\n          <span v-if=\"formErrors.password\" class=\"error-text\">{{ formErrors.password }}</span>\n        </div>\n\n        <div v-if=\"authError\" class=\"auth-error\">\n          {{ authError }}\n        </div>\n\n        <button type=\"submit\" class=\"auth-button\" :disabled=\"isSubmitting\">\n          <span v-if=\"!isSubmitting\">Ingresar</span>\n          <span v-else class=\"loading-indicator\">Procesando...</span>\n        </button>\n      </form>\n\n      <div class=\"auth-footer\">\n        ¿No tienes cuenta? \n        <router-link to=\"/register\" class=\"auth-link\">Regístrate aquí</router-link>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\n\n\nconst router = useRouter()\n\n\nconst email = ref('')\nconst password = ref('')\n\n\nconst isSubmitting = ref(false)\nconst authError = ref('')\nconst formErrors = ref({\n  email: '',\n  password: ''\n})\n\n\nconst validateForm = () => {\n  let isValid = true\n  formErrors.value = { email: '', password: '' }\n\n  if (!email.value) {\n    formErrors.value.email = 'El correo es obligatorio'\n    isValid = false\n  } else if (!/^\\S+@\\S+\\.\\S+$/.test(email.value)) {\n    formErrors.value.email = 'Ingresa un correo válido'\n    isValid = false\n  }\n\n  if (!password.value) {\n    formErrors.value.password = 'La contraseña es obligatoria'\n    isValid = false\n  } else if (password.value.length < 6) {\n    formErrors.value.password = 'Mínimo 6 caracteres'\n    isValid = false\n  }\n\n  return isValid\n}\n\nconst handleLogin = async () => {\n  if (!validateForm()) return\n\n  isSubmitting.value = true\n  authError.value = ''\n\n  try {\n    const users = JSON.parse(localStorage.getItem('users')) || []\n    const user = users.find(u => u.email === email.value)\n\n    if (!user) {\n      authError.value = 'Credenciales incorrectas'\n      return\n    }\n\n \n    if (user.password !== password.value) {\n      authError.value = 'Credenciales incorrectas'\n      return\n    }\n\n  \n    localStorage.setItem('currentUser', JSON.stringify({\n      email: user.email,\n      name: user.name,\n\n    }))\n\n    // Redirigir al dashboard\n    router.push('/dashboard')\n  } catch (error) {\n    console.error('Login error:', error)\n    authError.value = 'Ocurrió un error. Intenta nuevamente.'\n  } finally {\n    isSubmitting.value = false\n  }\n}\n</script>\n\n<style scoped>\n.auth-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  background-color: #f5f5f5;\n  padding: 1rem;\n}\n\n.auth-card {\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  padding: 2rem;\n  width: 100%;\n  max-width: 400px;\n}\n\n.auth-title {\n  color: #2E7D32;\n  text-align: center;\n  margin-bottom: 1.5rem;\n  font-size: 1.5rem;\n}\n\n.auth-form {\n  display: flex;\n  flex-direction: column;\n  gap: 1.25rem;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.form-label {\n  font-weight: 500;\n  color: #333;\n}\n\n.form-input {\n  padding: 0.75rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 1rem;\n}\n\n.form-input:focus {\n  outline: none;\n  border-color: #2E7D32;\n  box-shadow: 0 0 0 2px rgba(46, 125, 50, 0.2);\n}\n\n.input-error {\n  border-color: #d32f2f;\n}\n\n.error-text {\n  color: #d32f2f;\n  font-size: 0.875rem;\n}\n\n.auth-error {\n  color: #d32f2f;\n  background-color: #fdecea;\n  padding: 0.75rem;\n  border-radius: 4px;\n  text-align: center;\n  margin-bottom: 0.5rem;\n}\n\n.auth-button {\n  background-color: #2E7D32;\n  color: white;\n  padding: 0.75rem;\n  border: none;\n  border-radius: 4px;\n  font-size: 1rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: background-color 0.2s;\n}\n\n.auth-button:hover {\n  background-color: #1B5E20;\n}\n\n.auth-button:disabled {\n  background-color: #81C784;\n  cursor: not-allowed;\n}\n\n.loading-indicator {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n}\n\n.auth-footer {\n  text-align: center;\n  margin-top: 1.5rem;\n  color: #666;\n}\n\n.auth-link {\n  color: #2E7D32;\n  font-weight: 500;\n  text-decoration: none;\n}\n\n.auth-link:hover {\n  text-decoration: underline;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}