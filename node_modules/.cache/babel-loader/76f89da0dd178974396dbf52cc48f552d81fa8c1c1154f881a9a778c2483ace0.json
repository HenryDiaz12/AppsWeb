{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nconst LoginView = () => import('@/views/LoginView.vue');\nconst RegisterView = () => import('@/views/RegisterView.vue');\nconst DashboardView = () => import('@/views/DashboardView.vue');\nconst RegistroProducto = () => import('@/views/RegistroProducto.vue');\nconst PerfilView = () => import('@/views/perfil.vue');\nconst EstadisticasView = () => import('@/views/estadisticas.vue');\nconst ProductoresDashboard = () => import('@/views/ProductoresDashboard.vue');\nconst routes = [{\n  path: '/',\n  redirect: '/login'\n}, {\n  path: '/login',\n  name: 'login',\n  component: LoginView\n}, {\n  path: '/register',\n  name: 'register',\n  component: RegisterView\n}, {\n  path: '/dashboard',\n  name: 'dashboard',\n  component: DashboardView,\n  meta: {\n    requiresAuth: true,\n    title: 'Panel Principal',\n    icon: 'home',\n    role: ['user', 'producer', 'admin']\n  }\n}, {\n  path: '/registrar-producto',\n  name: 'registro-producto',\n  component: RegistroProducto,\n  meta: {\n    requiresAuth: true,\n    title: 'Registrar Producto',\n    role: ['producer', 'admin'],\n    breadcrumb: ['Dashboard', 'Registrar Producto']\n  }\n}, {\n  path: '/productores',\n  name: 'productores-dashboard',\n  component: ProductoresDashboard,\n  meta: {\n    requiresAuth: true,\n    title: 'Panel de Productores',\n    role: ['producer', 'admin'],\n    icon: 'dashboard'\n  }\n}, {\n  path: '/perfil',\n  name: 'perfil',\n  component: PerfilView,\n  meta: {\n    requiresAuth: true,\n    title: 'Mi Perfil',\n    role: ['user', 'producer', 'admin'],\n    icon: 'user'\n  }\n}, {\n  path: '/estadisticas',\n  name: 'estadisticas',\n  component: EstadisticasView,\n  meta: {\n    requiresAuth: true,\n    title: 'Estadísticas',\n    role: ['producer', 'admin'],\n    icon: 'chart-bar'\n  }\n}];\nconst router = createRouter({\n  history: createWebHistory(import.meta.env.BASE_URL),\n  routes,\n  scrollBehavior(to, from, savedPosition) {\n    if (savedPosition) {\n      return savedPosition;\n    } else if (to.hash) {\n      return {\n        el: to.hash,\n        behavior: 'smooth'\n      };\n    } else {\n      return {\n        top: 0,\n        behavior: 'smooth'\n      };\n    }\n  }\n});\nrouter.beforeEach((to, from, next) => {\n  const isAuthenticated = localStorage.getItem('currentUser');\n  const userRole = JSON.parse(localStorage.getItem('currentUser'))?.role || 'guest';\n  if (to.meta.title) {\n    document.title = `${to.meta.title} | GreenLogist`;\n  }\n  if (to.meta.requiresAuth && !isAuthenticated) {\n    next({\n      name: 'login',\n      query: {\n        redirect: to.fullPath\n      }\n    });\n    return;\n  }\n  if (to.meta.guestOnly && isAuthenticated) {\n    next({\n      name: 'dashboard'\n    });\n    return;\n  }\n  if (to.meta.role && !to.meta.role.includes(userRole)) {\n    next({\n      name: 'not-found'\n    });\n    return;\n  }\n  next();\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","LoginView","RegisterView","DashboardView","RegistroProducto","PerfilView","EstadisticasView","ProductoresDashboard","routes","path","redirect","name","component","meta","requiresAuth","title","icon","role","breadcrumb","router","history","import","env","BASE_URL","scrollBehavior","to","from","savedPosition","hash","el","behavior","top","beforeEach","next","isAuthenticated","localStorage","getItem","userRole","JSON","parse","document","query","fullPath","guestOnly","includes"],"sources":["C:/Users/Henry/Desktop/GreenlogistApps-main/GreenlogistApps-main/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\n\nconst LoginView = () => import('@/views/LoginView.vue')\nconst RegisterView = () => import('@/views/RegisterView.vue')\nconst DashboardView = () => import('@/views/DashboardView.vue')\nconst RegistroProducto = () => import('@/views/RegistroProducto.vue')\nconst PerfilView = () => import('@/views/perfil.vue') \nconst EstadisticasView = () => import('@/views/estadisticas.vue') \nconst ProductoresDashboard = () => import('@/views/ProductoresDashboard.vue')\n\nconst routes = [\n  {\n    path: '/',\n    redirect: '/login'\n  },\n  {\n    path: '/login',\n    name: 'login',\n    component: LoginView\n  },\n  {\n    path: '/register',\n    name: 'register',\n    component: RegisterView\n  },\n  {\n    path: '/dashboard',\n    name: 'dashboard',\n    component: DashboardView,\n    meta: {\n      requiresAuth: true,\n      title: 'Panel Principal',\n      icon: 'home',\n      role: ['user', 'producer', 'admin'] \n    }\n  },\n  {\n    path: '/registrar-producto',\n    name: 'registro-producto',\n    component: RegistroProducto,\n    meta: {\n      requiresAuth: true,\n      title: 'Registrar Producto',\n      role: ['producer', 'admin'], \n      breadcrumb: ['Dashboard', 'Registrar Producto'] \n    }\n  },\n  {\n    path: '/productores',\n    name: 'productores-dashboard', \n    component: ProductoresDashboard,\n    meta: {\n      requiresAuth: true,\n      title: 'Panel de Productores',\n      role: ['producer', 'admin'],\n      icon: 'dashboard'\n    }\n  },\n  {\n    path: '/perfil',\n    name: 'perfil', \n    component: PerfilView,\n    meta: {\n      requiresAuth: true,\n      title: 'Mi Perfil',\n      role: ['user', 'producer', 'admin'],\n      icon: 'user'\n    }\n  },\n  {\n    path: '/estadisticas',\n    name: 'estadisticas', \n    component: EstadisticasView,\n    meta: {\n      requiresAuth: true,\n      title: 'Estadísticas',\n      role: ['producer', 'admin'],\n      icon: 'chart-bar'\n    }\n  },\n\n\n]\n\nconst router = createRouter({\n  history: createWebHistory(import.meta.env.BASE_URL),\n  routes,\n  scrollBehavior(to, from, savedPosition) {\n\n    if (savedPosition) {\n      return savedPosition\n    } else if (to.hash) {\n      return { el: to.hash, behavior: 'smooth' }\n    } else {\n      return { top: 0, behavior: 'smooth' }\n    }\n  }\n})\n\n\nrouter.beforeEach((to, from, next) => {\n  const isAuthenticated = localStorage.getItem('currentUser')\n  const userRole = JSON.parse(localStorage.getItem('currentUser'))?.role || 'guest'\n  \n\n  if (to.meta.title) {\n    document.title = `${to.meta.title} | GreenLogist`\n  }\n\n\n  if (to.meta.requiresAuth && !isAuthenticated) {\n    next({ name: 'login', query: { redirect: to.fullPath } })\n    return\n  }\n\n  if (to.meta.guestOnly && isAuthenticated) {\n    next({ name: 'dashboard' })\n    return\n  }\n\n\n  if (to.meta.role && !to.meta.role.includes(userRole)) {\n    next({ name: 'not-found' })\n    return\n  }\n\n  next()\n})\n\nexport default router"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}