{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\n\n// Vistas (importación lazy-loaded para mejor performance)\nconst LoginView = () => import('@/views/LoginView.vue');\nconst RegisterView = () => import('@/views/RegisterView.vue');\nconst DashboardView = () => import('@/views/DashboardView.vue');\nconst RegistroProducto = () => import('@/views/RegistroProducto.vue');\nconst PerfilView = () => import('@/views/perfil.vue');\nconst EstadisticasView = () => import('@/views/estadisticas.vue');\nconst ProductoresDashboard = () => import('@/views/ProductoresDashboard.vue');\nconst routes = [{\n  path: '/',\n  redirect: '/login',\n  meta: {\n    hideFromNav: true\n  }\n}, {\n  path: '/login',\n  name: 'login',\n  component: LoginView,\n  meta: {\n    title: 'Iniciar Sesión',\n    guestOnly: true,\n    hideForAuth: true\n  }\n}, {\n  path: '/register',\n  name: 'register',\n  component: RegisterView,\n  meta: {\n    title: 'Registro',\n    guestOnly: true,\n    hideForAuth: true\n  }\n}, {\n  path: '/dashboard',\n  name: 'dashboard',\n  component: DashboardView,\n  meta: {\n    requiresAuth: true,\n    title: 'Panel Principal',\n    icon: 'home',\n    role: ['user', 'producer', 'admin']\n  }\n}, {\n  path: '/registrar-producto',\n  name: 'registro-producto',\n  component: RegistroProducto,\n  meta: {\n    requiresAuth: true,\n    title: 'Registrar Producto',\n    role: ['producer', 'admin'],\n    breadcrumb: ['Dashboard', 'Registrar Producto']\n  }\n}, {\n  path: '/productores',\n  name: 'productores-dashboard',\n  component: ProductoresDashboard,\n  meta: {\n    requiresAuth: true,\n    title: 'Panel de Productores',\n    role: ['producer', 'admin'],\n    icon: 'dashboard'\n  }\n}, {\n  path: '/perfil',\n  name: 'perfil',\n  component: PerfilView,\n  meta: {\n    requiresAuth: true,\n    title: 'Mi Perfil',\n    role: ['user', 'producer', 'admin'],\n    icon: 'user'\n  }\n}, {\n  path: '/estadisticas',\n  name: 'estadisticas',\n  component: EstadisticasView,\n  meta: {\n    requiresAuth: true,\n    title: 'Estadísticas',\n    role: ['producer', 'admin'],\n    icon: 'chart-bar'\n  }\n}];\nconst router = createRouter({\n  history: createWebHistory(import.meta.env.BASE_URL),\n  routes,\n  scrollBehavior(to, from, savedPosition) {\n    if (savedPosition) {\n      return savedPosition;\n    } else if (to.hash) {\n      return {\n        el: to.hash,\n        behavior: 'smooth'\n      };\n    } else {\n      return {\n        top: 0,\n        behavior: 'smooth'\n      };\n    }\n  }\n});\nrouter.beforeEach((to, from, next) => {\n  const isAuthenticated = localStorage.getItem('currentUser');\n  const userRole = JSON.parse(localStorage.getItem('currentUser'))?.role || 'guest';\n  if (to.meta.title) {\n    document.title = `${to.meta.title} | GreenLogist`;\n  }\n  if (to.meta.requiresAuth && !isAuthenticated) {\n    next({\n      name: 'login',\n      query: {\n        redirect: to.fullPath\n      }\n    });\n    return;\n  }\n  if (to.meta.guestOnly && isAuthenticated) {\n    next({\n      name: 'dashboard'\n    });\n    return;\n  }\n  if (to.meta.role && !to.meta.role.includes(userRole)) {\n    next({\n      name: 'not-found'\n    });\n    return;\n  }\n  next();\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","LoginView","RegisterView","DashboardView","RegistroProducto","PerfilView","EstadisticasView","ProductoresDashboard","routes","path","redirect","meta","hideFromNav","name","component","title","guestOnly","hideForAuth","requiresAuth","icon","role","breadcrumb","router","history","import","env","BASE_URL","scrollBehavior","to","from","savedPosition","hash","el","behavior","top","beforeEach","next","isAuthenticated","localStorage","getItem","userRole","JSON","parse","document","query","fullPath","includes"],"sources":["C:/Users/Henry/Desktop/GreenlogistApps-main/GreenlogistApps-main/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\n\n// Vistas (importación lazy-loaded para mejor performance)\nconst LoginView = () => import('@/views/LoginView.vue')\nconst RegisterView = () => import('@/views/RegisterView.vue')\nconst DashboardView = () => import('@/views/DashboardView.vue')\nconst RegistroProducto = () => import('@/views/RegistroProducto.vue')\nconst PerfilView = () => import('@/views/perfil.vue') \nconst EstadisticasView = () => import('@/views/estadisticas.vue') \nconst ProductoresDashboard = () => import('@/views/ProductoresDashboard.vue')\n\nconst routes = [\n  {\n    path: '/',\n    redirect: '/login',\n    meta: { hideFromNav: true } \n  },\n  {\n    path: '/login',\n    name: 'login', \n    component: LoginView,\n    meta: {\n      title: 'Iniciar Sesión',\n      guestOnly: true,\n      hideForAuth: true \n    }\n  },\n  {\n    path: '/register',\n    name: 'register',\n    component: RegisterView,\n    meta: {\n      title: 'Registro',\n      guestOnly: true,\n      hideForAuth: true\n    }\n  },\n  {\n    path: '/dashboard',\n    name: 'dashboard',\n    component: DashboardView,\n    meta: {\n      requiresAuth: true,\n      title: 'Panel Principal',\n      icon: 'home',\n      role: ['user', 'producer', 'admin'] \n    }\n  },\n  {\n    path: '/registrar-producto',\n    name: 'registro-producto',\n    component: RegistroProducto,\n    meta: {\n      requiresAuth: true,\n      title: 'Registrar Producto',\n      role: ['producer', 'admin'], \n      breadcrumb: ['Dashboard', 'Registrar Producto'] \n    }\n  },\n  {\n    path: '/productores',\n    name: 'productores-dashboard', \n    component: ProductoresDashboard,\n    meta: {\n      requiresAuth: true,\n      title: 'Panel de Productores',\n      role: ['producer', 'admin'],\n      icon: 'dashboard'\n    }\n  },\n  {\n    path: '/perfil',\n    name: 'perfil', \n    component: PerfilView,\n    meta: {\n      requiresAuth: true,\n      title: 'Mi Perfil',\n      role: ['user', 'producer', 'admin'],\n      icon: 'user'\n    }\n  },\n  {\n    path: '/estadisticas',\n    name: 'estadisticas', \n    component: EstadisticasView,\n    meta: {\n      requiresAuth: true,\n      title: 'Estadísticas',\n      role: ['producer', 'admin'],\n      icon: 'chart-bar'\n    }\n  },\n\n\n]\n\nconst router = createRouter({\n  history: createWebHistory(import.meta.env.BASE_URL),\n  routes,\n  scrollBehavior(to, from, savedPosition) {\n\n    if (savedPosition) {\n      return savedPosition\n    } else if (to.hash) {\n      return { el: to.hash, behavior: 'smooth' }\n    } else {\n      return { top: 0, behavior: 'smooth' }\n    }\n  }\n})\n\n\nrouter.beforeEach((to, from, next) => {\n  const isAuthenticated = localStorage.getItem('currentUser')\n  const userRole = JSON.parse(localStorage.getItem('currentUser'))?.role || 'guest'\n  \n\n  if (to.meta.title) {\n    document.title = `${to.meta.title} | GreenLogist`\n  }\n\n\n  if (to.meta.requiresAuth && !isAuthenticated) {\n    next({ name: 'login', query: { redirect: to.fullPath } })\n    return\n  }\n\n  if (to.meta.guestOnly && isAuthenticated) {\n    next({ name: 'dashboard' })\n    return\n  }\n\n\n  if (to.meta.role && !to.meta.role.includes(userRole)) {\n    next({ name: 'not-found' })\n    return\n  }\n\n  next()\n})\n\nexport default router"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}